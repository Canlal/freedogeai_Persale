<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreeDogeAI Presale</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00FF66;
            --secondary: #FFD700;
            --accent: #00B8FF;
            --dark: #0A0A0A;
            --darker: #050505;
            --light: #FFFFFF;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow: 0 8px 32px rgba(0, 255, 102, 0.2);
            --metamask: #F6851B;
            --trustwallet: #3375BB;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .space-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration, 5s) infinite ease-in-out;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .ai-particle {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--primary);
            filter: blur(2px);
            animation: float var(--duration, 15s) infinite linear;
            box-shadow: 0 0 20px 3px var(--primary);
        }

        .ai-circuit {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 2px solid rgba(0, 184, 255, 0.5);
            animation: rotate var(--duration, 60s) infinite linear;
            box-shadow: 0 0 30px 5px rgba(0, 184, 255, 0.3);
        }

        .ai-circuit::before, .ai-circuit::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid rgba(0, 255, 102, 0.5);
            box-shadow: 0 0 30px 5px rgba(0, 255, 102, 0.3);
        }

        .ai-circuit::before {
            transform: rotate(60deg);
        }

        .ai-circuit::after {
            transform: rotate(120deg);
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(50px, 50px) rotate(90deg); }
            50% { transform: translate(100px, 0) rotate(180deg); }
            75% { transform: translate(50px, -50px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .ai-connection {
            position: absolute;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(0,255,102,0.3) 0%, rgba(0,255,102,0) 70%);
            border-radius: 50%;
            animation: pulse 3s infinite alternate;
        }

        @keyframes pulse {
            0% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        h1, h2, h3, h4 {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--secondary);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .main-container {
            display: flex;
            max-width: 1440px;
            margin: 0 auto;
            padding: 2rem;
            gap: 2rem;
            position: relative;
        }

        .left-column {
            flex: 1;
            min-width: 350px;
            position: sticky;
            top: 2rem;
            height: fit-content;
        }

        .right-column {
            flex: 2;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .container {
            background: var(--glass);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .container:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 255, 102, 0.3);
        }

        .logo-container {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .logo-container img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary);
            box-shadow: 0 0 30px var(--primary);
            animation: pulse 2s infinite alternate;
        }

        .wallet-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-direction: column;
        }

        .wallet-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            border-radius: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: none;
            color: white;
        }

        .wallet-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .wallet-btn.metamask {
            background-color: var(--metamask);
        }

        .wallet-btn.trustwallet {
            background-color: var(--trustwallet);
        }

        .wallet-btn img {
            width: 24px;
            height: 24px;
        }

        .language-selector-container {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 100;
        }

        .language-selector {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 0.5rem;
            border-radius: 12px;
            border: 1px solid var(--secondary);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-selector:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 255, 102, 0.3);
        }

        button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            width: 100%;
            margin-top: 1rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Orbitron', sans-serif;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 255, 102, 0.3);
        }

        button:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        input, select {
            width: 100%;
            padding: 1rem;
            margin: 0.5rem 0 1rem;
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.3);
            color: var(--light);
            transition: all 0.3s ease;
            font-family: 'Roboto', sans-serif;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 255, 102, 0.3);
        }

        .wallet-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            word-break: break-word;
            font-family: monospace;
            border: 1px solid var(--secondary);
            color: var(--secondary);
            position: relative;
        }

        .info-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--secondary);
            color: var(--light);
            margin-top: 1rem;
        }

        .payment-method {
            margin: 1rem 0;
        }

        a {
            text-decoration: none;
            color: var(--secondary) !important;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.1) 100%);
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
        }

        a:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 215, 0, 0.2) 100%);
            transform: translateY(-2px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            overflow: hidden;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--glass-border);
        }

        th {
            background: linear-gradient(135deg, rgba(0, 255, 102, 0.2) 0%, rgba(0, 184, 255, 0.2) 100%);
            color: var(--secondary);
            font-family: 'Orbitron', sans-serif;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .calculation-result {
            font-size: 1.2rem;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            font-family: 'Orbitron', sans-serif;
        }

        .calculation-result span {
            color: var(--secondary);
            font-weight: bold;
            font-size: 1.3rem;
        }

        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 2rem auto;
            padding-left: 50px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 20px;
            width: 4px;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
            border-radius: 10px;
            z-index: 1;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            padding-left: 30px;
        }

        .timeline-marker {
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--gradient);
            border: 3px solid var(--secondary);
            z-index: 2;
            box-shadow: 0 0 0 4px rgba(0, 184, 255, 0.2);
        }

        .timeline-content {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 5px 25px rgba(0, 255, 102, 0.1);
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 255, 102, 0.2);
            border-color: var(--primary);
        }

        .timeline-content h4 {
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            position: relative;
        }

        .timeline-content h4::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
        }

        .timeline-content ul {
            list-style-type: none;
            padding-left: 0;
        }

        .timeline-content li {
            position: relative;
            padding-left: 25px;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .timeline-content li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }

        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .countdown-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--primary);
            border-radius: 16px;
            padding: 1.5rem 1rem;
            min-width: 90px;
            box-shadow: 0 0 20px rgba(0, 255, 102, 0.15);
            text-align: center;
        }

        .countdown-item span:first-child {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary);
            display: block;
            margin-bottom: 0.3rem;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .countdown-item span:last-child {
            font-size: 0.9rem;
            color: #ccc;
            opacity: 0.8;
        }

        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
            }
            
            .left-column {
                position: static;
                margin-bottom: 2rem;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }
            
            .container {
                padding: 1.5rem;
            }
            
            .language-selector-container {
                position: static;
                margin-bottom: 1rem;
                display: flex;
                justify-content: center;
            }
            
            .language-selector {
                max-width: 100%;
            }
            
            .timeline {
                padding-left: 30px;
            }
            
            .timeline::before {
                left: 10px;
            }
            
            .timeline-marker {
                width: 20px;
                height: 20px;
                left: -5px;
            }
            
            .timeline-content {
                padding: 20px;
            }
            
            .wallet-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="space-bg" id="spaceBg"></div>

    <div class="main-container">
        <div class="left-column">
            <div class="container">
                <div class="language-selector-container">
                    <select class="language-selector" id="languageSelector">
                        <option value="en">EN</option>
                        <option value="tr">TR</option>
                        <option value="zh">中文</option>
                        <option value="ja">日本語</option>
                        <option value="hi">हिन्दी</option>
                        <option value="fil">Filipino</option>
                    </select>
                </div>

                <div class="logo-container">
                    <img src="logo.png" alt="FreeDogeAI Logo">
                </div>
                <h1 data-i18n="presale_title">FreeDogeAI Presale</h1>
                
                <div class="countdown-container">
                    <div class="countdown-item">
                        <span id="countdown-days">00</span>
                        <span data-i18n="days">Days</span>
                    </div>
                    <div class="countdown-item">
                        <span id="countdown-hours">00</span>
                        <span data-i18n="hours">Hours</span>
                    </div>
                    <div class="countdown-item">
                        <span id="countdown-minutes">00</span>
                        <span data-i18n="minutes">Minutes</span>
                    </div>
                    <div class="countdown-item">
                        <span id="countdown-seconds">00</span>
                        <span data-i18n="seconds">Seconds</span>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 1rem; font-size: 1rem; color: var(--secondary); font-weight: bold;" data-i18n="presale_ends">
                    Presale ends in:
                </p>

                <div class="payment-method">
                    <label for="paymentMethod"><strong data-i18n="payment_method">Payment Method:</strong></label>
                    <select id="paymentMethod">
                        <option value="bnb">BNB</option>
                        <option value="usdt">USDT (BEP-20)</option>
                    </select>
                </div>
                
                <p id="rateInfo">1 BNB = 120,000,000,000 FDAI</p>
                
                <div class="wallet-buttons">
                    <button class="wallet-btn metamask" id="connectMetamaskBtn">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" alt="MetaMask">
                        <span data-i18n="connect_metamask">Connect MetaMask</span>
                    </button>
                    <button class="wallet-btn trustwallet" id="connectTrustWalletBtn">
                        <img src="https://trustwallet.com/assets/images/media/assets/TWT.png" alt="Trust Wallet">
                        <span data-i18n="connect_trustwallet">Connect Trust Wallet</span>
                    </button>
                </div>

                <div id="walletInfo" style="display: none;">
                    <h3 data-i18n="your_wallet">Your Wallet</h3>
                    <div class="wallet-info">
                        <p><strong data-i18n="address">Address:</strong> <span id="walletAddress"></span></p>
                        <p><strong data-i18n="bnb_balance">BNB Balance:</strong> <span id="bnbBalance"></span></p>
                        <p><strong data-i18n="usdt_balance">USDT Balance:</strong> <span id="usdtBalance"></span></p>
                    </div>
                </div>
                
                <div id="amountSection">
                    <label for="amount"><strong data-i18n="amount">Amount:</strong></label>
                    <input type="number" id="amount" placeholder="Enter amount (BNB or USDT)" step="0.01" min="0.01">
                </div>
                
                <div class="calculation-result">
                    <strong data-i18n="you_will_receive">You will receive:</strong> <span id="fdaiAmount">0</span> FDAI
                </div>
                
                <button id="buyBtn" disabled data-i18n="buy_tokens">🚀 Buy FDAI Tokens</button>
                
                <div class="info-box">
                    <h3 data-i18n="important_info">Important Information</h3>
                    <p data-i18n="token_delivery_info">After your token purchase, your tokens will be reflected in your wallet within 24 hours.</p>
                    <div style="background:rgba(0, 184, 255, 0.2); color:var(--light); border: 1px solid var(--accent); border-radius: 12px; padding: 1rem; text-align: center; font-weight: bold; margin-top: 1rem;">
                        <span data-i18n="network_warning">Please make sure you are connected to the</span> <span style="color:var(--accent);">BSC (Binance Smart Chain)</span> <span data-i18n="network">network.</span>
                    </div>
                    <p><strong data-i18n="note">NOTE:</strong> <span data-i18n="token_note">If FDAI tokens do not appear, add this contract address:</span></p>
                    <div class="wallet-info" style="background: rgba(0, 0, 0, 0.5); border: 2px dashed var(--secondary); color: var(--accent); font-weight: bold; padding: 1rem; border-radius: 12px; text-align: center; margin-top: 1rem;">
                        0x8161698A74F2ea0035B9912ED60140893Ac0f39C
                    </div>
                </div>
            </div>
        </div>

        <div class="right-column">
            <div class="container">
                <h3 data-i18n="about_title">About FreeDogeAI</h3>
                <p data-i18n="about_text">FreeDogeAI is an innovative project combining the power of artificial intelligence with the viral appeal of meme-based cryptocurrencies. Our mission is to create a decentralized ecosystem that leverages AI to empower users, foster community engagement, and drive financial freedom. Join us in revolutionizing the future of finance with FreeDogeAI!</p>
            </div>

            <div class="container">
                <h3 data-i18n="roadmap_title">Roadmap</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h4 data-i18n="phase1">Phase 1: Launch</h4>
                            <ul>
                                <li data-i18n="website_launched">Official website launched: <a href="https://freedogeai.com" target="_blank">freedogeai.com</a></li>
                                <li data-i18n="twitter_link">Twitter: <a href="https://x.com/FreeDogeAI_FDAI" target="_blank">@FreeDogeAI_FDAI</a></li>
                                <li data-i18n="telegram_link">Telegram: <a href="https://t.me/freedogeaiFDAI" target="_blank">@freedogeaiFDAI</a></li>
                                <li data-i18n="presale_launched">Presale was successfully launched</li>
                            </ul>
                        </div>
                        <div class="timeline-marker"></div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h4 data-i18n="phase2">Phase 2: Growth</h4>
                            <ul>
                                <li data-i18n="airdrop_campaigns">Airdrop campaigns and community events</li>
                                <li data-i18n="dex_listings">DEX visibility and token listings</li>
                                <li data-i18n="marketing_collabs">Strategic marketing and influencer collaborations</li>
                            </ul>
                        </div>
                        <div class="timeline-marker"></div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h4 data-i18n="phase3">Phase 3: AI Utility</h4>
                            <ul>
                                <li data-i18n="ai_games">AI-powered mini-game and interaction system</li>
                                <li data-i18n="reward_models">FDAI integrated into task/reward models</li>
                                <li data-i18n="beta_testing">Beta testing with real utility</li>
                            </ul>
                        </div>
                        <div class="timeline-marker"></div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h4 data-i18n="phase4">Phase 4: Global Expansion</h4>
                            <ul>
                                <li data-i18n="cex_listing">Surprise centralized exchange listing</li>
                                <li data-i18n="nft_integration">NFT + AI feature integration</li>
                                <li data-i18n="global_outreach">Global outreach and scaling</li>
                            </ul>
                        </div>
                        <div class="timeline-marker"></div>
                    </div>
                </div>
            </div>

            <div class="container">
                <h3 data-i18n="tokenomics_title">Tokenomics</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div>
                        <table>
                            <tr><th data-i18n="category">Category</th><th data-i18n="percentage">Percentage</th></tr>
                            <tr><td data-i18n="presale">Presale</td><td>15%</td></tr>
                            <tr><td data-i18n="airdrop">Airdrop & Campaigns</td><td>15%</td></tr>
                            <tr><td data-i18n="burn">Burn</td><td>15%</td></tr>
                            <tr><td data-i18n="listing">DEX & CEX Listing</td><td>20%</td></tr>
                            <tr><td data-i18n="reserve">Locked Reserve</td><td>30%</td></tr>
                            <tr><td data-i18n="team">Team</td><td>5%</td></tr>
                        </table>
                    </div>
                    <div>
                        <p><strong data-i18n="total_supply">Total Supply:</strong> 2,000,000,000,000,000 (Two Quadrillion)</p>
                        <p><strong data-i18n="circulating_supply">Circulating Supply:</strong> 1,400,000,000,000,000</p>
                        <p><strong data-i18n="locked_supply">Locked Supply:</strong> 600,000,000,000,000 FDAI</p>
                    </div>
                </div>
            </div>

            <div class="container">
                <h3 data-i18n="release_schedule">Locked Token Release Schedule</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                    <div>2026: 5%</div>
                    <div>2027: 5%</div>
                    <div>2028: 5%</div>
                    <div>2029: 5%</div>
                    <div>2030: 5%</div>
                    <div>2031: 5%</div>
                </div>
            </div>

            <div class="container">
                <h3 data-i18n="join_community">Join Our Community</h3>
                <div style="display: flex; gap: 20px; justify-content: center;">
                    <a href="https://x.com/FreeDogeAI_FDAI" target="_blank">X (Twitter)</a>
                    <a href="https://t.me/freedogeaiFDAI" target="_blank">Telegram</a>
                </div>
            </div>

            <div class="container">
                <h3 data-i18n="whitepaper_title">Download FreeDogeAI Whitepaper</h3>
                <p style="text-align: center;"><a href="FreeDogeAI%20-%20Whitepaper.pdf" download data-i18n="download_whitepaper">Click here to download the whitepaper</a></p>
            </div>
        </div>
    </div>

    <script>
        const CONFIG = {
            RECEIVE_WALLET: "0xd924e01c7d319c5b23708cd622bd1143cd4fb360",
            TOKENS_PER_BNB: 120000000000,
            TOKENS_PER_USDT: 200000000,
            BSC_CHAIN_ID: 56,
            USDT_CONTRACT: "0x55d398326f99059fF775485246999027B3197955",
            METAMASK_DEEPLINK: "https://metamask.app.link/dapp/",
            TRUSTWALLET_DEEPLINK: "https://link.trustwallet.com/open_url?coin_id=20000714&url=",
            TRUSTWALLET_APP_LINK: "trust://browser?url="
        };

        let web3;
        let userAddress = "";
        let usdtContract;
        let currentLanguage = 'en';

        const translations = {
            en: {
                presale_title: "FreeDogeAI Presale",
                days: "Days",
                hours: "Hours",
                minutes: "Minutes",
                seconds: "Seconds",
                presale_ends: "Presale ends in:",
                payment_method: "Payment Method:",
                connect_metamask: "Connect MetaMask",
                connect_trustwallet: "Connect Trust Wallet",
                your_wallet: "Your Wallet",
                address: "Address:",
                bnb_balance: "BNB Balance:",
                usdt_balance: "USDT Balance:",
                amount: "Amount:",
                you_will_receive: "You will receive:",
                buy_tokens: "🚀 Buy FDAI Tokens",
                important_info: "Important Information",
                token_delivery_info: "After your token purchase, your tokens will be reflected in your wallet within 24 hours.",
                network_warning: "Please make sure you are connected to the",
                network: "network.",
                note: "NOTE:",
                token_note: "If FDAI tokens do not appear, add this contract address:",
                about_title: "About FreeDogeAI",
                about_text: "FreeDogeAI is an innovative project combining the power of artificial intelligence with the viral appeal of meme-based cryptocurrencies. Our mission is to create a decentralized ecosystem that leverages AI to empower users, foster community engagement, and drive financial freedom. Join us in revolutionizing the future of finance with FreeDogeAI!",
                roadmap_title: "Roadmap",
                phase1: "Phase 1: Launch",
                website_launched: "Official website launched:",
                twitter_link: "Twitter:",
                telegram_link: "Telegram:",
                presale_launched: "Presale was successfully launched",
                phase2: "Phase 2: Growth",
                airdrop_campaigns: "Airdrop campaigns and community events",
                dex_listings: "DEX visibility and token listings",
                marketing_collabs: "Strategic marketing and influencer collaborations",
                phase3: "Phase 3: AI Utility",
                ai_games: "AI-powered mini-game and interaction system",
                reward_models: "FDAI integrated into task/reward models",
                beta_testing: "Beta testing with real utility",
                phase4: "Phase 4: Global Expansion",
                cex_listing: "Surprise centralized exchange listing",
                nft_integration: "NFT + AI feature integration",
                global_outreach: "Global outreach and scaling",
                tokenomics_title: "Tokenomics",
                category: "Category",
                percentage: "Percentage",
                presale: "Presale",
                airdrop: "Airdrop & Campaigns",
                burn: "Burn",
                listing: "DEX & CEX Listing",
                reserve: "Locked Reserve",
                team: "Team",
                total_supply: "Total Supply:",
                circulating_supply: "Circulating Supply:",
                locked_supply: "Locked Supply:",
                release_schedule: "Locked Token Release Schedule",
                join_community: "Join Our Community",
                whitepaper_title: "Download FreeDogeAI Whitepaper",
                download_whitepaper: "Click here to download the whitepaper"
            },
            tr: {
                presale_title: "FreeDogeAI Ön Satış",
                days: "Gün",
                hours: "Saat",
                minutes: "Dakika",
                seconds: "Saniye",
                presale_ends: "Ön satış bitmesine kalan süre:",
                payment_method: "Ödeme Yöntemi:",
                connect_metamask: "MetaMask'e Bağlan",
                connect_trustwallet: "Trust Wallet'a Bağlan",
                your_wallet: "Cüzdanınız",
                address: "Adres:",
                bnb_balance: "BNB Bakiyesi:",
                usdt_balance: "USDT Bakiyesi:",
                amount: "Miktar:",
                you_will_receive: "Alacaklarınız:",
                buy_tokens: "🚀 FDAI Token Satın Al",
                important_info: "Önemli Bilgiler",
                token_delivery_info: "Token satın alımınızın ardından, tokenleriniz 24 saat içinde cüzdanınıza yansıyacaktır.",
                network_warning: "Lütfen bağlı olduğunuz ağın",
                network: "olduğundan emin olun.",
                note: "NOT:",
                token_note: "Eğer FDAI tokenleri görünmüyorsa, bu kontrat adresini ekleyin:",
                about_title: "FreeDogeAI Hakkında",
                about_text: "FreeDogeAI, yapay zeka gücünü meme tabanlı kripto paraların viral çekiciliğiyle birleştiren yenilikçi bir projedir. Misyonumuz, kullanıcıları güçlendiren, topluluk katılımını teşvik eden ve finansal özgürlüğü destekleyen merkeziyetsiz bir ekosistem yaratmaktır. FreeDogeAI ile finansın geleceğini yeniden şekillendirmek için bize katılın!",
                roadmap_title: "Yol Haritası",
                phase1: "Aşama 1: Başlangıç",
                website_launched: "Resmi web sitesi yayınlandı:",
                twitter_link: "Twitter:",
                telegram_link: "Telegram:",
                presale_launched: "Ön satış başarıyla başlatıldı",
                phase2: "Aşama 2: Büyüme",
                airdrop_campaigns: "Airdrop kampanyaları ve topluluk etkinlikleri",
                dex_listings: "DEX görünürlüğü ve token listeleri",
                marketing_collabs: "Stratejik pazarlama ve influencer işbirlikleri",
                phase3: "Aşama 3: AI Kullanımı",
                ai_games: "AI destekli mini oyun ve etkileşim sistemi",
                reward_models: "FDAI görev/ödül modellerine entegre edildi",
                beta_testing: "Gerçek kullanım ile beta testi",
                phase4: "Aşama 4: Küresel Genişleme",
                cex_listing: "Sürpriz merkezi borsa listeleme",
                nft_integration: "NFT + AI özellik entegrasyonu",
                global_outreach: "Küresel erişim ve ölçeklendirme",
                tokenomics_title: "Tokenomik",
                category: "Kategori",
                percentage: "Yüzde",
                presale: "Ön Satış",
                airdrop: "Airdrop & Kampanyalar",
                burn: "Yakım",
                listing: "DEX & CEX Listeleme",
                reserve: "Kilitli Rezerv",
                team: "Ekip",
                total_supply: "Toplam Arz:",
                circulating_supply: "Dolaşımdaki Arz:",
                locked_supply: "Kilitli Arz:",
                release_schedule: "Kilitli Token Çıkış Takvimi",
                join_community: "Topluluğumuza Katılın",
                whitepaper_title: "FreeDogeAI Whitepaper'ı İndirin",
                download_whitepaper: "Whitepaper'ı indirmek için tıklayın"
            },
            zh: {
                presale_title: "FreeDogeAI 预售",
                days: "天",
                hours: "小时",
                minutes: "分钟",
                seconds: "秒",
                presale_ends: "预售结束倒计时:",
                payment_method: "支付方式:",
                connect_metamask: "连接MetaMask",
                connect_trustwallet: "连接Trust Wallet",
                your_wallet: "您的钱包",
                address: "地址:",
                bnb_balance: "BNB 余额:",
                usdt_balance: "USDT 余额:",
                amount: "金额:",
                you_will_receive: "您将获得:",
                buy_tokens: "🚀 购买 FDAI 代币",
                important_info: "重要信息",
                token_delivery_info: "代币购买后，将在24小时内反映在您的钱包中。",
                network_warning: "请确保您已连接到",
                network: "网络。",
                note: "注意:",
                token_note: "如果 FDAI 代币未显示，请添加此合约地址:",
                about_title: "关于 FreeDogeAI",
                about_text: "FreeDogeAI 是一个创新项目，将人工智能的力量与迷因加密货币的病毒式吸引力相结合。我们的使命是创建一个去中心化的生态系统，利用人工智能赋能用户，促进社区参与，并推动金融自由。加入我们，与 FreeDogeAI 一起革新金融的未来！",
                roadmap_title: "路线图",
                phase1: "第一阶段: 启动",
                website_launched: "官方网站已上线:",
                twitter_link: "推特:",
                telegram_link: "电报:",
                presale_launched: "预售已成功启动",
                phase2: "第二阶段: 增长",
                airdrop_campaigns: "空投活动和社区活动",
                dex_listings: "DEX 可见性和代币上市",
                marketing_collabs: "战略营销和影响者合作",
                phase3: "第三阶段: AI 应用",
                ai_games: "AI 驱动的小游戏和互动系统",
                reward_models: "FDAI 集成到任务/奖励模型中",
                beta_testing: "具有实际效用的 Beta 测试",
                phase4: "第四阶段: 全球扩展",
                cex_listing: "惊喜的中心化交易所上市",
                nft_integration: "NFT + AI 功能集成",
                global_outreach: "全球推广和扩展",
                tokenomics_title: "代币经济学",
                category: "类别",
                percentage: "百分比",
                presale: "预售",
                airdrop: "空投 & 活动",
                burn: "销毁",
                listing: "DEX & CEX 上市",
                reserve: "锁定储备",
                team: "团队",
                total_supply: "总供应量:",
                circulating_supply: "流通供应量:",
                locked_supply: "锁定供应量:",
                release_schedule: "锁定代币释放计划",
                join_community: "加入我们的社区",
                whitepaper_title: "下载 FreeDogeAI 白皮书",
                download_whitepaper: "点击此处下载白皮书"
            },
            ja: {
                presale_title: "FreeDogeAI プレセール",
                days: "日",
                hours: "時間",
                minutes: "分",
                seconds: "秒",
                presale_ends: "プレセール終了まで:",
                payment_method: "支払い方法:",
                connect_metamask: "MetaMaskに接続",
                connect_trustwallet: "Trust Walletに接続",
                your_wallet: "あなたのウォレット",
                address: "アドレス:",
                bnb_balance: "BNB 残高:",
                usdt_balance: "USDT 残高:",
                amount: "金額:",
                you_will_receive: "受け取る数量:",
                buy_tokens: "🚀 FDAIトークンを購入",
                important_info: "重要なお知らせ",
                token_delivery_info: "トークン購入後、24時間以内にウォレットに反映されます。",
                network_warning: "接続しているネットワークが",
                network: "であることを確認してください。",
                note: "注意:",
                token_note: "FDAIトークンが表示されない場合は、このコントラクトアドレスを追加してください:",
                about_title: "FreeDogeAIについて",
                about_text: "FreeDogeAIは、人工知能の力とミームベースの暗号通貨の魅力を組み合わせた革新的なプロジェクトです。私たちの使命は、AIを活用してユーザーをエンパワーし、コミュニティの参加を促進し、金融の自由を推進する分散型エコシステムを作ることです。FreeDogeAIと共に金融の未来を革新しましょう！",
                roadmap_title: "ロードマップ",
                phase1: "フェーズ1: ローンチ",
                website_launched: "公式ウェブサイト公開:",
                twitter_link: "Twitter:",
                telegram_link: "Telegram:",
                presale_launched: "プレセールが開始されました",
                phase2: "フェーズ2: 成長",
                airdrop_campaigns: "エアドロップキャンペーンとコミュニティイベント",
                dex_listings: "DEXの可視化とトークン上場",
                marketing_collabs: "戦略的マーケティングとインフルエンサーコラボ",
                phase3: "フェーズ3: AIユーティリティ",
                ai_games: "AI搭載のミニゲームとインタラクションシステム",
                reward_models: "タスク/報酬モデルへのFDAI統合",
                beta_testing: "実際のユーティリティでのベータテスト",
                phase4: "フェーズ4: グローバル展開",
                cex_listing: "サプライズの中央集権型取引所上場",
                nft_integration: "NFT + AI機能統合",
                global_outreach: "グローバル展開とスケーリング",
                tokenomics_title: "トークノミクス",
                category: "カテゴリー",
                percentage: "パーセンテージ",
                presale: "プレセール",
                airdrop: "エアドロップ & キャンペーン",
                burn: "バーン",
                listing: "DEX & CEX上場",
                reserve: "ロック済みリザーブ",
                team: "チーム",
                total_supply: "総供給量:",
                circulating_supply: "流通供給量:",
                locked_supply: "ロック済み供給量:",
                release_schedule: "ロック済みトークンリリーススケジュール",
                join_community: "コミュニティに参加",
                whitepaper_title: "FreeDogeAI ホワイトペーパーをダウンロード",
                download_whitepaper: "ホワイトペーパーをダウンロードするにはこちらをクリック"
            },
            hi: {
                presale_title: "FreeDogeAI प्रीसेल",
                days: "दिन",
                hours: "घंटे",
                minutes: "मिनट",
                seconds: "सेकंड",
                presale_ends: "प्रीसेल समाप्त होने में:",
                payment_method: "भुगतान विधि:",
                connect_metamask: "MetaMask से कनेक्ट करें",
                connect_trustwallet: "Trust Wallet से कनेक्ट करें",
                your_wallet: "आपका वॉलेट",
                address: "पता:",
                bnb_balance: "BNB बैलेंस:",
                usdt_balance: "USDT बैलेंस:",
                amount: "राशि:",
                you_will_receive: "आपको प्राप्त होंगे:",
                buy_tokens: "🚀 FDAI टोकन खरीदें",
                important_info: "महत्वपूर्ण जानकारी",
                token_delivery_info: "टोकन खरीदने के बाद, आपके टोकन 24 घंटे के भीतर आपके वॉलेट में दिखाई देंगे।",
                network_warning: "कृपया सुनिश्चित करें कि आप",
                network: "नेटवर्क से जुड़े हैं।",
                note: "नोट:",
                token_note: "यदि FDAI टोकन दिखाई नहीं देते हैं, तो इस कॉन्ट्रैक्ट एड्रेस को जोड़ें:",
                about_title: "FreeDogeAI के बारे में",
                about_text: "FreeDogeAI एक नवाचारी परियोजना है जो कृत्रिम बुद्धिमत्ता की शक्ति को मीम-आधारित क्रिप्टोकरेंसी के वायरल आकर्षण के साथ जोड़ती है। हमारा मिशन एक विकेंद्रीकृत पारिस्थितिकी तंत्र बनाना है जो उपयोगकर्ताओं को सशक्त बनाता है, समुदाय की भागीदारी को बढ़ावा देता है और वित्तीय स्वतंत्रता को प्रोत्साहित करता है। FreeDogeAI के साथ वित्त के भविष्य को क्रांतिकारी बनाने में शामिल हों!",
                roadmap_title: "रोडमैप",
                phase1: "चरण 1: लॉन्च",
                website_launched: "आधिकारिक वेबसाइट लॉन्च:",
                twitter_link: "ट्विटर:",
                telegram_link: "टेलीग्राम:",
                presale_launched: "प्रीसेल सफलतापूर्वक शुरू किया गया",
                phase2: "चरण 2: विकास",
                airdrop_campaigns: "एयरड्रॉप अभियान और सामुदायिक कार्यक्रम",
                dex_listings: "DEX दृश्यता और टोकन लिस्टिंग",
                marketing_collabs: "रणनीतिक मार्केटिंग और प्रभावशाली सहयोग",
                phase3: "चरण 3: AI उपयोगिता",
                ai_games: "AI-संचालित मिनी-गेम और इंटरैक्शन सिस्टम",
                reward_models: "FDAI को कार्य/पुरस्कार मॉडल में एकीकृत किया गया",
                beta_testing: "वास्तविक उपयोगिता के साथ बीटा परीक्षण",
                phase4: "चरण 4: वैश्विक विस्तार",
                cex_listing: "आश्चर्यजनक केंद्रीकृत एक्सचेंज लिस्टिंग",
                nft_integration: "NFT + AI सुविधा एकीकरण",
                global_outreach: "वैश्विक पहुंच और स्केलिंग",
                tokenomics_title: "टोकनॉमिक्स",
                category: "श्रेणी",
                percentage: "प्रतिशत",
                presale: "प्रीसेल",
                airdrop: "एयरड्रॉप और अभियान",
                burn: "बर्न",
                listing: "DEX और CEX लिस्टिंग",
                reserve: "लॉक्ड रिजर्व",
                team: "टीम",
                total_supply: "कुल आपूर्ति:",
                circulating_supply: "परिसंचारी आपूर्ति:",
                locked_supply: "लॉक्ड आपूर्ति:",
                release_schedule: "लॉक्ड टोकन रिलीज शेड्यूल",
                join_community: "हमारे समुदाय में शामिल हों",
                whitepaper_title: "FreeDogeAI व्हाइटपेपर डाउनलोड करें",
                download_whitepaper: "व्हाइटपेपर डाउनलोड करने के लिए यहां क्लिक करें"
            },
            fil: {
                presale_title: "FreeDogeAI Presale",
                days: "Araw",
                hours: "Oras",
                minutes: "Minuto",
                seconds: "Segundo",
                presale_ends: "Matatapos ang Presale sa:",
                payment_method: "Paraan ng Pagbabayad:",
                connect_metamask: "Kumonekta sa MetaMask",
                connect_trustwallet: "Kumonekta sa Trust Wallet",
                your_wallet: "Iyong Wallet",
                address: "Address:",
                bnb_balance: "BNB Balance:",
                usdt_balance: "USDT Balance:",
                amount: "Halaga:",
                you_will_receive: "Matatanggap mo:",
                buy_tokens: "🚀 Bumili ng FDAI Tokens",
                important_info: "Mahalagang Impormasyon",
                token_delivery_info: "Pagkatapos ng iyong token purchase, makikita ang iyong mga token sa iyong wallet sa loob ng 24 oras.",
                network_warning: "Mangyaring siguraduhin na nakakonekta ka sa",
                network: "network.",
                note: "PAUNAWA:",
                token_note: "Kung hindi lumilitaw ang FDAI tokens, idagdag ang contract address na ito:",
                about_title: "Tungkol sa FreeDogeAI",
                about_text: "Ang FreeDogeAI ay isang makabagong proyekto na pinagsasama ang kapangyarihan ng artificial intelligence at ang viral na apela ng meme-based na cryptocurrencies. Ang aming misyon ay lumikha ng isang decentralized ecosystem na naglalayong bigyan ng kapangyarihan ang mga user, pasiglahin ang pakikipag-ugnayan ng komunidad, at itaguyod ang financial freedom. Sumali sa amin sa pagre-rebolusyon sa hinaharap ng pananalapi kasama ang FreeDogeAI!",
                roadmap_title: "Roadmap",
                phase1: "Phase 1: Launch",
                website_launched: "Inilunsad ang opisyal na website:",
                twitter_link: "Twitter:",
                telegram_link: "Telegram:",
                presale_launched: "Matagumpay na inilunsad ang Presale",
                phase2: "Phase 2: Growth",
                airdrop_campaigns: "Mga airdrop campaign at community events",
                dex_listings: "DEX visibility at token listings",
                marketing_collabs: "Strategic marketing at influencer collaborations",
                phase3: "Phase 3: AI Utility",
                ai_games: "AI-powered mini-game at interaction system",
                reward_models: "FDAI isinama sa task/reward models",
                beta_testing: "Beta testing na may tunay na utility",
                phase4: "Phase 4: Global Expansion",
                cex_listing: "Sorpresang centralized exchange listing",
                nft_integration: "NFT + AI feature integration",
                global_outreach: "Global outreach at scaling",
                tokenomics_title: "Tokenomics",
                category: "Kategorya",
                percentage: "Porsyento",
                presale: "Presale",
                airdrop: "Airdrop at Campaigns",
                burn: "Burn",
                listing: "DEX at CEX Listing",
                reserve: "Locked Reserve",
                team: "Team",
                total_supply: "Kabuuang Supply:",
                circulating_supply: "Circulating Supply:",
                locked_supply: "Locked Supply:",
                release_schedule: "Locked Token Release Schedule",
                join_community: "Sumali sa Aming Komunidad",
                whitepaper_title: "I-download ang FreeDogeAI Whitepaper",
                download_whitepaper: "I-click dito para i-download ang whitepaper"
            }
        };

        function createSpaceAnimations() {
            const spaceBg = document.getElementById('spaceBg');
            
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${Math.random() * 4}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = Math.random();
                star.style.setProperty('--duration', `${3 + Math.random() * 7}s`);
                spaceBg.appendChild(star);
            }
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'ai-particle';
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.setProperty('--duration', `${10 + Math.random() * 20}s`);
                spaceBg.appendChild(particle);
            }
            
            for (let i = 0; i < 8; i++) {
                const circuit = document.createElement('div');
                circuit.className = 'ai-circuit';
                circuit.style.left = `${Math.random() * 100}%`;
                circuit.style.top = `${Math.random() * 100}%`;
                circuit.style.width = `${150 + Math.random() * 300}px`;
                circuit.style.height = circuit.style.width;
                circuit.style.setProperty('--duration', `${40 + Math.random() * 80}s`);
                spaceBg.appendChild(circuit);
            }
            
            for (let i = 0; i < 5; i++) {
                const connection = document.createElement('div');
                connection.className = 'ai-connection';
                connection.style.left = `${Math.random() * 100}%`;
                connection.style.top = `${Math.random() * 100}%`;
                spaceBg.appendChild(connection);
            }
        }

        function translatePage(lang) {
            currentLanguage = lang;
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
            
            const method = document.getElementById('paymentMethod').value;
            updateAmountPlaceholder(method);
        }

        function updateAmountPlaceholder(method) {
            const placeholderText = method === 'bnb' ? 
                (currentLanguage === 'tr' ? 'Miktar girin (örn: 0.1 BNB)' :
                 currentLanguage === 'zh' ? '输入金额 (例如: 0.1 BNB)' :
                 currentLanguage === 'ja' ? '金額を入力 (例: 0.1 BNB)' :
                 currentLanguage === 'hi' ? 'राशि दर्ज करें (उदा: 0.1 BNB)' :
                 currentLanguage === 'fil' ? 'Ilagay ang halaga (hal: 0.1 BNB)' :
                 'Enter amount (e.g., 0.1 BNB)') :
                (currentLanguage === 'tr' ? 'Miktar girin (örn: 1 USDT)' :
                 currentLanguage === 'zh' ? '输入金额 (例如: 1 USDT)' :
                 currentLanguage === 'ja' ? '金額を入力 (例: 1 USDT)' :
                 currentLanguage === 'hi' ? 'राशि दर्ज करें (उदा: 1 USDT)' :
                 currentLanguage === 'fil' ? 'Ilagay ang halaga (hal: 1 USDT)' :
                 'Enter amount (e.g., 1 USDT)');
            
            document.getElementById('amount').placeholder = placeholderText;
        }

        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        function isTrustWallet() {
            return /TrustWallet/i.test(navigator.userAgent);
        }

        function isMetaMask() {
            return /MetaMask/i.test(navigator.userAgent);
        }

       async function connectWallet(walletType) {
  try {
    // Eski bağlantıları temizle
    if (window.ethereum?.removeAllListeners) window.ethereum.removeAllListeners();
    
    // Mobile cihazlarda
    if (/Android|iPhone/i.test(navigator.userAgent)) {
      if (walletType === 'metamask') {
        window.location.href = `https://metamask.app.link/dapp/${window.location.href}`;
      } else {
        window.location.href = `trust://browser?url=${window.location.href}`;
        setTimeout(() => {
          window.location.href = `https://link.trustwallet.com/open_url?url=${window.location.href}`;
        }, 300);
      }
      return;
    }

    // Desktop için
    const accounts = await window.ethereum.request({ 
      method: 'eth_requestAccounts',
    });
    userAddress = accounts[0];
    alert("Bağlantı başarılı: " + userAddress.slice(0, 6) + "...");
    
  } catch (error) {
    alert("HATA: " + (error.message || "Cüzdan bağlantısı kurulamadı"));
  }
}

                // Desktop handling
                await handleInAppConnection();
            } catch (error) {
                console.error("Connection error:", error);
                showErrorAlert(error);
            }
        }

        async function handleInAppConnection() {
            if (window.ethereum) {
                try {
                    // First try to get accounts without requesting
                    let accounts = await window.ethereum.request({ method: 'eth_accounts' });
                    
                    // If no accounts, request access
                    if (accounts.length === 0) {
                        accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    }
                    
                    if (accounts.length > 0) {
                        userAddress = accounts[0];
                        await initializeWeb3();
                        await updateWalletUI();
                    }
                } catch (error) {
                    // Handle specific error cases
                    if (error.code === 4001) {
                        // User rejected request
                        let message = "Connection request was rejected";
                        if (currentLanguage === 'tr') message = "Bağlantı isteği reddedildi";
                        else if (currentLanguage === 'zh') message = "连接请求被拒绝";
                        else if (currentLanguage === 'ja') message = "接続リクエストが拒否されました";
                        else if (currentLanguage === 'hi') message = "कनेक्शन अनुरोध अस्वीकृत";
                        else if (currentLanguage === 'fil') message = "Nabigo ang connection request";
                        alert(message);
                    } else {
                        throw error;
                    }
                }
            } else {
                // Wallet not installed
                let message = "Please install the wallet extension first!";
                if (currentLanguage === 'tr') message = "Lütfen önce cüzdan eklentisini yükleyin!";
                else if (currentLanguage === 'zh') message = "请先安装钱包扩展!";
                else if (currentLanguage === 'ja') message = "まずウォレット拡張機能をインストールしてください!";
                else if (currentLanguage === 'hi') message = "कृपया पहले वॉलेट एक्सटेंशन इंस्टॉल करें!";
                else if (currentLanguage === 'fil') message = "Mangyaring i-install muna ang wallet extension!";
                
                alert(message);
                window.open(
                    walletType === 'metamask' ? 'https://metamask.io/download.html' : 'https://trustwallet.com/browser-extension/',
                    '_blank'
                );
            }
        }

        function showErrorAlert(error) {
            let errorMessage = "Connection error: " + (error.message || error);
            
            if (currentLanguage === 'tr') {
                errorMessage = "Bağlantı hatası: " + (error.message || error);
            } else if (currentLanguage === 'zh') {
                errorMessage = "连接错误: " + (error.message || error);
            } else if (currentLanguage === 'ja') {
                errorMessage = "接続エラー: " + (error.message || error);
            } else if (currentLanguage === 'hi') {
                errorMessage = "कनेक्शन त्रुटि: " + (error.message || error);
            } else if (currentLanguage === 'fil') {
                errorMessage = "Connection error: " + (error.message || error);
            }
            
            alert(errorMessage);
        }

        window.addEventListener('DOMContentLoaded', () => {
            createSpaceAnimations();
            
            document.getElementById('languageSelector').addEventListener('change', (e) => {
                translatePage(e.target.value);
            });
            
            document.getElementById('connectMetamaskBtn').addEventListener('click', () => connectWallet('metamask'));
            document.getElementById('connectTrustWalletBtn').addEventListener('click', () => connectWallet('trustwallet'));
            
            document.getElementById('buyBtn').addEventListener('click', sendPayment);
            document.getElementById('amount').addEventListener('input', calculateFDAI);
            document.getElementById('paymentMethod').addEventListener('change', togglePaymentMethod);
            
            startCountdown();
            
            // Check if wallet is already connected
            if (window.ethereum) {
                checkConnectedWallet();
                
                // Listen for account changes
                window.ethereum.on('accountsChanged', (accounts) => {
                    if (accounts.length > 0) {
                        userAddress = accounts[0];
                        updateWalletUI();
                    } else {
                        resetWalletUI();
                    }
                });
                
                // Listen for chain changes
                window.ethereum.on('chainChanged', () => {
                    window.location.reload();
                });
            }
        });

        function resetWalletUI() {
            document.getElementById('walletInfo').style.display = 'none';
            
            let metamaskText = 'Connect MetaMask';
            let trustText = 'Connect Trust Wallet';
            if (currentLanguage === 'tr') {
                metamaskText = 'MetaMask\'e Bağlan';
                trustText = 'Trust Wallet\'a Bağlan';
            } else if (currentLanguage === 'zh') {
                metamaskText = '连接MetaMask';
                trustText = '连接Trust Wallet';
            } else if (currentLanguage === 'ja') {
                metamaskText = 'MetaMaskに接続';
                trustText = 'Trust Walletに接続';
            } else if (currentLanguage === 'hi') {
                metamaskText = 'MetaMask से कनेक्ट करें';
                trustText = 'Trust Wallet से कनेक्ट करें';
            } else if (currentLanguage === 'fil') {
                metamaskText = 'Kumonekta sa MetaMask';
                trustText = 'Kumonekta sa Trust Wallet';
            }
            
            document.getElementById('connectMetamaskBtn').innerHTML = `<img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" alt="MetaMask"> ${metamaskText}`;
            document.getElementById('connectTrustWalletBtn').innerHTML = `<img src="https://trustwallet.com/assets/images/media/assets/TWT.png" alt="Trust Wallet"> ${trustText}`;
            document.getElementById('buyBtn').disabled = true;
        }

        function startCountdown() {
            const startTime = new Date("2025-06-09T00:00:00Z").getTime();
            const endTime = startTime + 100 * 24 * 60 * 60 * 1000;

            function updateCountdown() {
                const now = Date.now();
                const distance = endTime - now;

                if (distance < 0) {
                    document.getElementById("countdown-days").textContent = "00";
                    document.getElementById("countdown-hours").textContent = "00";
                    document.getElementById("countdown-minutes").textContent = "00";
                    document.getElementById("countdown-seconds").textContent = "00";
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById("countdown-days").textContent = String(days).padStart(2, '0');
                document.getElementById("countdown-hours").textContent = String(hours).padStart(2, '0');
                document.getElementById("countdown-minutes").textContent = String(minutes).padStart(2, '0');
                document.getElementById("countdown-seconds").textContent = String(seconds).padStart(2, '0');
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        async function checkConnectedWallet() {
            try {
                const accounts = await window.ethereum.request({ method: 'eth_accounts' });
                if (accounts.length > 0) {
                    userAddress = accounts[0];
                    await initializeWeb3();
                    await updateWalletUI();
                }
            } catch (error) {
                console.error("Error checking connected wallet:", error);
            }
        }

        function togglePaymentMethod() {
            const method = document.getElementById('paymentMethod').value;
            if (method === 'bnb') {
                document.getElementById('rateInfo').textContent = '1 BNB = 120,000,000,000 FDAI';
                document.getElementById('amount').step = '0.01';
                document.getElementById('amount').min = '0.01';
            } else {
                document.getElementById('rateInfo').textContent = '1 USDT = 200,000,000 FDAI';
                document.getElementById('amount').step = '1';
                document.getElementById('amount').min = '1';
            }
            updateAmountPlaceholder(method);
            calculateFDAI();
        }

        async function initializeWeb3() {
            web3 = new Web3(window.ethereum);
            
            const usdtAbi = [{
                "constant": true,
                "inputs": [{"name": "_owner", "type": "address"}],
                "name": "balanceOf",
                "outputs": [{"name": "balance", "type": "uint256"}],
                "type": "function"
            }, {
                "constant": false,
                "inputs": [
                    {"name": "_to", "type": "address"},
                    {"name": "_value", "type": "uint256"}
                ],
                "name": "transfer",
                "outputs": [{"name": "", "type": "bool"}],
                "type": "function"
            }];
            usdtContract = new web3.eth.Contract(usdtAbi, CONFIG.USDT_CONTRACT);
            
            try {
                const chainId = Number(await web3.eth.getChainId());
                if (chainId !== CONFIG.BSC_CHAIN_ID) {
                    await switchToBSCNetwork();
                }
            } catch (error) {
                console.log("Network check failed:", error);
                let errorMessage = "Please switch to BSC network manually";
                
                if (currentLanguage === 'tr') {
                    errorMessage = "Lütfen BSC ağına manuel olarak geçiş yapın";
                } else if (currentLanguage === 'zh') {
                    errorMessage = "请手动切换到BSC网络";
                } else if (currentLanguage === 'ja') {
                    errorMessage = "手動でBSCネットワークに切り替えてください";
                } else if (currentLanguage === 'hi') {
                    errorMessage = "कृपया मैन्युअली BSC नेटवर्क पर स्विच करें";
                } else if (currentLanguage === 'fil') {
                    errorMessage = "Mangyaring manual na lumipat sa BSC network";
                }
                
                alert(errorMessage);
            }
        }

        async function switchToBSCNetwork() {
            try {
                await window.ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x38' }]
                });
            } catch (switchError) {
                if (switchError.code === 4902) {
                    try {
                        await window.ethereum.request({
                            method: 'wallet_addEthereumChain',
                            params: [{
                                chainId: '0x38',
                                chainName: 'Binance Smart Chain',
                                nativeCurrency: {
                                    name: 'BNB',
                                    symbol: 'BNB',
                                    decimals: 18
                                },
                                rpcUrls: ['https://bsc-dataseed.binance.org/'],
                                blockExplorerUrls: ['https://bscscan.com']
                            }]
                        });
                    } catch (addError) {
                        console.error("Error adding BSC network:", addError);
                        throw addError;
                    }
                } else {
                    console.error("Error switching to BSC network:", switchError);
                    throw switchError;
                }
            }
        }

        async function updateWalletUI() {
            const shortAddress = `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`;
            document.getElementById('walletAddress').textContent = shortAddress;
            
            document.getElementById('walletInfo').style.display = 'block';
            
            let connectedText = '✅ Connected';
            if (currentLanguage === 'tr') connectedText = '✅ Bağlandı';
            else if (currentLanguage === 'zh') connectedText = '✅ 已连接';
            else if (currentLanguage === 'ja') connectedText = '✅ 接続済み';
            else if (currentLanguage === 'hi') connectedText = '✅ कनेक्टेड';
            else if (currentLanguage === 'fil') connectedText = '✅ Nakakonek';
            
            document.getElementById('connectMetamaskBtn').textContent = connectedText;
            document.getElementById('connectTrustWalletBtn').textContent = connectedText;
            document.getElementById('buyBtn').disabled = false;
            
            try {
                const bnbBalance = await web3.eth.getBalance(userAddress);
                document.getElementById('bnbBalance').textContent = `${web3.utils.fromWei(bnbBalance, 'ether').slice(0, 8)} BNB`;
                
                const usdtBalance = await usdtContract.methods.balanceOf(userAddress).call();
                document.getElementById('usdtBalance').textContent = `${web3.utils.fromWei(usdtBalance, 'ether')} USDT`;
            } catch (error) {
                console.error("Balance fetch error:", error);
            }
        }

        function calculateFDAI() {
            const method = document.getElementById('paymentMethod').value;
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            let fdai;
            
            if (method === 'bnb') {
                fdai = amount * CONFIG.TOKENS_PER_BNB;
            } else {
                fdai = amount * CONFIG.TOKENS_PER_USDT;
            }
            
            document.getElementById('fdaiAmount').textContent = fdai.toLocaleString();
        }

        async function sendPayment() {
            const method = document.getElementById('paymentMethod').value;
            const amount = parseFloat(document.getElementById('amount').value);
            
            if (!amount || amount <= 0) {
                let errorMessage = "Please enter a valid amount!";
                if (currentLanguage === 'tr') errorMessage = "Lütfen geçerli bir miktar girin!";
                else if (currentLanguage === 'zh') errorMessage = "请输入有效金额!";
                else if (currentLanguage === 'ja') errorMessage = "有効な金額を入力してください!";
                else if (currentLanguage === 'hi') errorMessage = "कृपया एक वैध राशि दर्ज करें!";
                else if (currentLanguage === 'fil') errorMessage = "Mangyaring maglagay ng wastong halaga!";
                
                alert(errorMessage);
                return;
            }
            
            try {
                if (method === 'bnb') {
                    await sendBNB();
                } else {
                    await sendUSDT();
                }
            } catch (error) {
                console.error("Payment error:", error);
                showErrorAlert(error);
            }
        }

        async function sendBNB() {
            const bnbAmount = parseFloat(document.getElementById('amount').value);
            const weiAmount = web3.utils.toWei(bnbAmount.toString(), 'ether');
            
            const tx = {
                from: userAddress,
                to: CONFIG.RECEIVE_WALLET,
                value: weiAmount,
                gas: 300000,
                gasPrice: await web3.eth.getGasPrice()
            };
            
            const receipt = await web3.eth.sendTransaction(tx);
            
            let successMessage = `✅ ${bnbAmount} BNB successfully sent!\n\nYou will receive: ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI\nTX Hash: ${receipt.transactionHash}`;
            
            if (currentLanguage === 'tr') {
                successMessage = `✅ ${bnbAmount} BNB başarıyla gönderildi!\n\nAlacaklarınız: ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI\nİşlem Hash: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'zh') {
                successMessage = `✅ ${bnbAmount} BNB 发送成功!\n\n您将获得: ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI\n交易哈希: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'ja') {
                successMessage = `✅ ${bnbAmount} BNB の送信に成功しました!\n\n受け取る数量: ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI\nトランザクションハッシュ: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'hi') {
                successMessage = `✅ ${bnbAmount} BNB सफलतापूर्वक भेजा गया!\n\nआपको प्राप्त होंगे: ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI\nट्रांजैक्शन हैश: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'fil') {
                successMessage = `✅ ${bnbAmount} BNB matagumpay na naipadala!\n\nMatatanggap mo: ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI\nTX Hash: ${receipt.transactionHash}`;
            }
            
            alert(successMessage);
        }

        async function sendUSDT() {
            const usdtAmount = parseFloat(document.getElementById('amount').value);
            const weiAmount = web3.utils.toWei(usdtAmount.toString(), 'ether');
            
            const receipt = await usdtContract.methods.transfer(
                CONFIG.RECEIVE_WALLET,
                weiAmount
            ).send({
                from: userAddress,
                gas: 200000,
                gasPrice: await web3.eth.getGasPrice()
            });
            
            let successMessage = `✅ ${usdtAmount} USDT successfully sent!\n\nYou will receive: ${(usdtAmount * CONFIG.TOKENS_PER_USDT).toLocaleString()} FDAI\nTX Hash: ${receipt.transactionHash}`;
            
            if (currentLanguage === 'tr') {
                successMessage = `✅ ${usdtAmount} USDT başarıyla gönderildi!\n\nAlacaklarınız: ${(usdtAmount * CONFIG.TOKENS_PER_USDT).toLocaleString()} FDAI\nİşlem Hash: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'zh') {
                successMessage = `✅ ${usdtAmount} USDT 发送成功!\n\n您将获得: ${(usdtAmount * CONFIG.TOKENS_PER_USDT).toLocaleString()} FDAI\n交易哈希: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'ja') {
                successMessage = `✅ ${usdtAmount} USDT の送信に成功しました!\n\n受け取る数量: ${(usdtAmount * CONFIG.TOKENS_PER_USDT).toLocaleString()} FDAI\nトランザクションハッシュ: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'hi') {
                successMessage = `✅ ${usdtAmount} USDT सफलतापूर्वक भेजा गया!\n\nआपको प्राप्त होंगे: ${(usdtAmount * CONFIG.TOKENS_PER_USDT).toLocaleString()} FDAI\nट्रांजैक्शन हैश: ${receipt.transactionHash}`;
            } else if (currentLanguage === 'fil') {
                successMessage = `✅ ${usdtAmount} USDT matagumpay na naipadala!\n\nMatatanggap mo: ${(usdtAmount * CONFIG.TOKENS_PER_USDT).toLocaleString()} FDAI\nTX Hash: ${receipt.transactionHash}`;
            }
            
            alert(successMessage);
        }
    </script>
</body>
</html>
